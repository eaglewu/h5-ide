@import "compass";

/* Wrapper and header */
#global-region-header {
  padding: 10px 0;
  position: absolute;
  z-index: 5;
  background: rgba(42, 46, 49, .9);
  box-shadow: 1px 5px 5px rgba(22, 22, 23, 0.1);
  width: 100%;
  height: 38px;

  > .btn {
    float : left;
    height      : 36px;
    line-height : 36px;
    overflow    : hidden;

    text-align : left;
    color      : #fff;
    font-size  : 16px;

    padding : 0 16px 0 0;
    margin-left : 10px;

    &[disabled] { color: #999; }
    &:before {
      width         : 36px;
      height        : 36px;
      line-height   : 36px;
      text-align    : center;
      float         : left;
      background    : rgba(0,0,0,.2);
      border-radius : 3px 0 0 3px;
      margin-right  : 10px;
    }
  }
}

#global-refresh {
  font-size : 12px;
  position  : absolute;
  right     : 25px;
  top       : 20px;
  color     : #aaa;
  display   : block;
  cursor    : pointer;

  &:hover  { color: #148BE6; }
  &:before {
    margin-right: 4px;
    font-size   : 12px;
    line-height : 18px;
  }
}

#global-region-wrap {
  height: 100%;
  background : #f0f0f0;
}

/* The map */
.global-map-item {
  position      : absolute;
  cursor        : pointer;
  width         : 100px;
  height        : 50px;
  box-shadow    : 1px 1px 10px rgba(0, 0, 0, 0.5);
  background    : rgba(0, 0, 0, 0.95);
  position      : absolute;
  top           : -37px;
  left          : 10px;
  border-radius : 2px;
  font-size     : 12px;
  color         : #f3f3f3;

  &:before {
    content       : " ";
    border-radius : 50%;
    width         : 7px;
    height        : 7px;
    background    : #ff8330;
    display       : block;
    position      : absolute;
  }

  &:hover {
    box-shadow: 1px 1px 10px rgba(200, 200, 200, 0.6);
  }

  > h5 {
    border-bottom : 1px solid #1c1c1c;
    padding       : 3px 6px;
    font-size     : 12px;
  }

  .global-region-location {
    width       : 50%;
    float       : left;
    padding     : 0 0 0 30px;
    height      : 26px;
    line-height : 26px;

    background : image-url('ide/global-region-app-stack-s.png') 6px -3px no-repeat;

    -webkit-box-sizing : border-box;
       -moz-box-sizing : border-box;
            box-sizing : border-box;
  }

  .global-region-location.stack {
    background-position : 6px -32px;
  }
}

#us-east-1 {
  top  : 183px - 24px;
  left : 262px - 48px;
  &:before { top: 26px; left: -10px; }
}

#us-west-1 {
  top  : 230px - 24px;
  left : 156px - 48px;
  &:before { top  : -12px; left : 3px; }
}

#us-west-2 {
  top  : 145px - 24px;
  left : 125px - 48px;
  &:before { top: 55px; left: 25px; }
}

#eu-west-1 {
  top  : 113px - 24px;
  left : 392px - 48px;
  &:before { top: 22px; left: -11px; }
}

#sa-east-1 {
  top  : 330px - 24px;
  left : 318px - 48px;
  &:before { top: 27px; left: -11px; }
}

#ap-southeast-1 {
  top  : 256px - 24px;
  left : 553px - 48px;
  &:before { top: 27px; left: 105px; }
}

#ap-southeast-2 {
  top  : 339px - 24px;
  left : 665px - 48px;
  &:before { top: 27px; left: 104px; }
}

#ap-northeast-1 {
  top  : 164px - 24px;
  left : 724px - 48px;
  &:before { top: 27px; left: -11px; }
}

#global-region-map-wrap {
  padding : 60px 0 20px;
  width   : 100%;

  background-color: #465061;
  background-image: -webkit-linear-gradient(bottom, rgba(0,0,0,.1), rgba(255,255,255,.1));
  background-image: -moz-linear-gradient(bottom, rgba(0,0,0,.1), rgba(255,255,255,.1));
  background-image: -o-linear-gradient(bottom, rgba(0,0,0,.1), rgba(255,255,255,.1));
  background-image: -ms-linear-gradient(bottom, rgba(0,0,0,.1), rgba(255,255,255,.1));
  background-image: linear-gradient(to top, rgba(0,0,0,.1), rgba(255,255,255,.1));
}

#global-region-map-content {
  width     : 95%;
  max-width : 1280px;
  margin    : 0 auto;
  position  : relative;
}

#global-region-spot {
  width      : image-width('ide/global-dotted-map.png');
  height     : image-height("ide/global-dotted-map.png");
  background : image-url('ide/global-dotted-map.png') no-repeat;
  margin  : 24px 0 10px 48px;
}

#global-region-status-widget {
  position      : absolute;
  right         : 0;
  top           : 20px;
  border        : 1px solid #333;
  border-radius : 3px;
  width         : 390px;
  min-height    : 425px;
  background    : #fff;
  box-shadow    : 0px 0 10px rgba(0, 0, 0, 0.3);
}

.global-region-status-tab {
  text-align : center;
  float      : left;
  width      : 50%;
  background : #323e49;
  position   : relative;

  height      : 145px;
  padding-top : 40px;

  -webkit-box-sizing : border-box;
     -moz-box-sizing : border-box;
          box-sizing : border-box;


  &.on {
    background : #283138;

    &:before {
      position    : absolute;
      left        : 50%;
      margin-left : -10px;
      bottom      : 0;
      border      : 10px solid transparent;
      content     : '';

      border-bottom-color : #fff;
    }
  }

  &.stack > span {
    background-position : 0 -120px;
  }

  > span {
    display      : inline-block;
    padding-left : 58px;
    font-size    : 36px;
    color        : #e6e6e6;
    text-shadow  : 1px 1px 5px rgba(0, 0, 0, 0.4);
    background   : image-url("ide/global-region-app-stack.png") no-repeat;
  }

  > h5 {
    color      : #ccc;
    font-size  : 14px;
    margin-top : 10px;
  }
}

/* Responsive design for dashboard */
@media only screen and (max-width: 1280px) {
  #global-region-map-content {
    max-width  : 940px;
  }

  #global-region-status-widget {
    width    : 100%;
    position : static;
  }
}

#global-region-recent-list {
  .empty-text {
    position    : absolute;
    width       : 100%;
    height      : 20px;
    line-height : 20px;
    top         : 50%;
    margin-top  : -10px;
    left        : 0;
    color       : #999;
    text-align  : center;
  }

  > section {
    height   : 289px;
    position : relative;
    overflow : hidden;

    > h4 {
      border-bottom : 1px solid #eee;
      padding       : 0 15px;
      color         : #999;
      height        : 38px;
      line-height   : 38px;
      font-size     : 14px;
    }
  }

  .recent-list-item {
    cursor    : pointer;
    padding   : 7px 15px;
    font-size : 12px;
    color     : #999;


    &:last-child {
      border-radius: 0 0 2px 2px;
    }

    &:hover {
      background : #f8f8f8;

      > h5 { text-decoration: underline; }
    }

    > h5 {
      font-size   : 14px;
      color       : #148BE6;
      line-height : 21px;
    }

    .recent-time {
      float      : right;
      font-style : italic;
      color      : #ccc;
    }
  }
}

/* AWS resources table */
#dashboard-data-wrap {
  max-width : 1280px;
  margin    : 0 auto;
  padding   : 15px 0 40px;
  width     : 95%;

  .resource-count {
    padding-left : 60px;
    font-size    : 40px;
    background   : image-url("ide/global-region-icon2.png") left top no-repeat;
  }

  .instances    .resource-count { background-position : left -55px * 0 - 2; }
  .eips         .resource-count { background-position : left -55px * 1 - 2; }
  .volumes      .resource-count { background-position : left -55px * 2 - 2; }
  .vpcs         .resource-count { background-position : left -55px * 3 - 2; }
  .vpns         .resource-count { background-position : left -55px * 4 - 2; }
  .asgs         .resource-count { background-position : left -55px * 5 - 2; }
  .elbs         .resource-count { background-position : left -55px * 6 - 2; }
  .cloudwatches .resource-count { background-position : left -55px * 7 - 2; }
  .snss         .resource-count { background-position : left -55px * 8 - 2; }
}

#region-switch {
  z-index    : 35;
  display    : block;
  width      : 125px;
  text-align : left;
  padding    : 10px;
  font-size  : 16px;

  &:hover { background: #34A3F8; }
}



#global-view, #region-view { margin-top : 15px; }
#global-view {
  > li {
    float        : left;
    width        : 19.2%;
    margin-right : 1%;
    border       : 1px solid #ccc;
    background   : #f6f6f6;
    box-shadow   : 1px 1px 5px rgba(0, 0, 0, 0.1);
    font-size    : 20px;

    -moz-box-sizing : border-box;
         box-sizing : border-box;

    &:last-child {
      margin-right : 0;
    }

    @media (max-width: 1000px) {
      font-size : 18px;
    }
  }

  .instances { color: #17a03a; }
  .eips      { color: #ffa740; }
  .volumes   { color: #25a4f4; }
  .elbs      { color: #1B7FCC; }
  .vpns      { color: #9C6DC0; }

  hgroup {
    text-align : center;
    background : #fff;
    padding    : 1.5em 0;

    > h5 {
      color       : #676767;
      font-size   : 0.8em;
      line-height : 2em;
      margin-top  : 0.5em;
    }
  }

  .global-resource-li {
    border-top : 1px solid #ddd;
    padding    : 8% 10%;
    cursor     : pointer;

    &:hover { background : #fcfcfc; }

    .count {
      float     : right;
      font-size : 1.5em;
    }

    > h4 {
      color     : #148BE6;
      font-size : 0.9em;
    }

    > h5 {
      color      : #b2b2b2;
      font-size  : 0.6em;
      margin-top : 3px;
    }
  }
}

#region-resource-wrap {
  margin-top : 18px;
  box-shadow : 1px 1px 5px rgba(0, 0, 0, 0.1);
  border     : 1px solid #bbb;

  > nav { background : #fcfcfc; }

  .resource-tab {
    float    : left;
    position : relative;
    width    : 11%;
    padding  : 1.3% 0;
    cursor   : pointer;

    .resource-count {
      padding-left : 0;
      padding-top  : 55px;
      height       : 5px;
      font-size    : 12px;
      display      : block;
      text-align   : center;
      margin       : 0 auto 10px;
      color        : #999;

      background-position-x : center;
    }

    &:first-child { margin-left : 0.5%; }

    &::after {
      position      : absolute;
      left          : 50%;
      bottom        : 0;
      display       : none;
      margin-left   : -8px;
      border        : 8px solid transparent;
      content       : '';

      border-bottom-color : #323E49;
    }

    &.on::after, &:hover::after { display:block; }

    &:hover::after {
      border-bottom-color : rgba(50, 62, 73, 0.5);
    }

    .count-bubble {
      border-radius : 4px;
      padding       : 2px 6px;
      background    : #F0F0F0;
      color         : #148BE6;
      top           : 8px;
      left          : 50%;
      margin-left   : 15px;
      position      : absolute;
      font-size     : 14px;
      box-shadow    : 1px 1px 5px rgba(0, 0, 0, 0.3),inset 0 1px 0px rgba(255,255,255,.8);
      border        : 1px solid #ccc;
      text-shadow   : 0 1px 0 #fff;
    }
  }
}

#region-aws-resource-data .scroll-wrap { height: 420px; }

.region-resource-list {

  > li {
    float         : left;
    margin-left   : 1.6%;
    margin-top    : 15px;
    display       : block;
    width         : 18%;
    opacity       : .95;
    position      : relative;
    cursor        : pointer;
    background    : #323e49;
    border-radius : 5px;
    overflow      : hidden;

    &:hover { opacity: 1; }
    &.disabled {
      cursor  : default;
      opacity : .8;
      &:hover { opacity: .8; }
    }

    &:last-child { margin-bottom : 15px; }
  }

  .loading-spinner {
    width    : 12px;
    height   : 12px;
    position : static;
    float    : left;
    margin   : 5px 5px 0 0;
  }


  .thumbnail {
    height          : 0;
    padding-bottom  : 65%;
    background      : #55626f image-url("ide/thumbnail-stack-placehoder@2x.png") center center no-repeat;
    background-size : 100% auto;
    overflow        : hidden;

    &.app-thumbnail {
      background-image : image-url("ide/thumbnail-app-placehoder@2x.png");
      background-size  : 100% auto;
    }

    img {
      width  : 100%;
      height : auto;

      border        : 1px solid #55626e;
      border-bottom : none;
      border-radius : 5px 5px 0 0;
      background    : #fff;

      -webkit-box-sizing : border-box;
         -moz-box-sizing : border-box;
              box-sizing : border-box;
    }
  }


  [class^="icon-app-type-"], [class*=" icon-app-type-"] {
    position : absolute;
    top      : 5px;
    right    : 5px;
  }

  @media (max-width: 1030px) {
    > li {
      width : 22.5%;
      margin-left : 2%;
    }

    .blank-widget {
      padding  : 14.55% 0 27px 0;
    }
  }

  .blank-widget {
    margin   : 15px 1.6%;
    padding  : 11.7% 0 27px 0;
    position : relative;

    > div {
      position   : absolute;
      top        : 50%;
      left       : 0;
      width      : 100%;
      text-align : center;

      -webkit-transform : translate(0, -50%);
         -moz-transform : translate(0, -50%);
              transform : translate(0, -50%);
    }
  }

  .region-resource-progess {
    position : absolute;
    left     : 0;
    bottom   : 0;
    height   : 27px;
    z-index  : -1;

    $stripeColor1 : #ad77d7;
    $stripeColor2 : #9e62d4;

    background-image: -webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, $stripeColor1), color-stop(0.25, $stripeColor2), color-stop(0.5, $stripeColor2), color-stop(0.5, $stripeColor1), color-stop(0.75, $stripeColor1), color-stop(0.75, $stripeColor2), to($stripeColor2));
    background-image: -webkit-linear-gradient(135deg, $stripeColor1 25%, $stripeColor2 25%, $stripeColor2 50%, $stripeColor1 50%, $stripeColor1 75%, $stripeColor2 75%, $stripeColor2);
    background-image: -moz-linear-gradient(135deg, $stripeColor1 25%, transparent 25%, transparent 50%, $stripeColor1 50%, $stripeColor1 75%, transparent 75%, transparent);
    background-image: linear-gradient(135deg, $stripeColor1 25%, $stripeColor2 25%, $stripeColor2 50%, $stripeColor1 50%, $stripeColor1 75%, $stripeColor2 75%, $stripeColor2);

    @include background-size( 40px 40px );
    @include transition( width .3s );

    -webkit-animation: progress-bar 2s linear infinite;
       -moz-animation: progress-bar 2s linear infinite;
            animation: progress-bar 2s linear infinite;
  }

  .region-resource-info {
    padding-left  : 12px;
    position      : relative;
    height        : 27px;
    line-height   : 27px;
    color         : #eee;
    font-size     : 12px;
    display       : block;

    &:before { font-size : 12px; margin-right : 2px; }

    > i {
      float       : right;
      border-left : 1px solid #2d2d2d;
      width       : 30px;
      height      : 27px;
      line-height : 30px;

      text-align  : center;
      color: #ddd;

      &:hover {
        background : #2d2d2d;
        color      : #fefefe;
      }

      &:first-child { border-radius : 0 0 5px 0; }
    }

    i.icon-terminate, i.icon-delete { &:hover { color: #ec3c38; } }

    > span {
      max-width : 120px;
    }

    > .icon-pending:before {
      font-size    : 10px;
      line-height  : 10px;
      height       : 10px;
      color        : #999;
      margin-right : 4px;
    }

    > .running, > .stopped {
      padding-left : 14px;
      background   : image-url('ide/icon-app-running-16x16.png') left center no-repeat; }
    > .stopped {
      background-image : image-url('ide/icon-app-stopped-16x16.png');
    }
  }
}

#region-app-stack-wrap {
  position : relative;

  .scroll-wrap {
    background : #fff;
    box-shadow : 1px 1px 5px rgba(0,0,0,0.1);
    border     : 1px solid #bbb;
    max-height : 370px;
  }
}


#region-resource-tab {
  position      : absolute;
  right         : 0;
  top           : -49px;
  border-radius : 5px 5px 0 0;
  z-index       : 5;
  box-shadow    : 3px -2px 3px rgba(0, 0, 0, 0.05);

  > li {
    float       : left;
    width       : 170px;
    height      : 48px;
    line-height : 49px;
    position    : relative;
    text-align  : center;
    border      : 1px solid #bbb;
    background  : #F3F3F3;
    cursor      : pointer;
    font-size   : 21px;
    color       : #666;
    background  : #F3F3F3 image-url("ide/global-region-app-stack-m.png") 20px top no-repeat;

    > small {
      font-size : 12px;
      color : #ccc;
    }

    &:first-child {
      border-radius: 3px 0 0 0;
    }

    &:last-child {
      border-left: none;
      border-radius: 0 3px 0 0;
    }

    &.on {
      background-color : #fff;
      box-shadow       : none;
      border-bottom    : none;
      height           : 49px;
    }

    &.stack { background-position : 20px -50px; }
  }
}

#btn-create-stack {
  border     : none;
  background : none;
  position   : absolute;
  right      : 10px;
  top        : 50%;
  margin-top : -15px;
  color      : #999;
  cursor     : pointer;

  &:hover { color: #9C6DC0; }
}

#region-resource-stack-wrap {

  .blank-widget {
    &:after {
      content    : " ";
      position   : absolute;
      top        : 0;
      right      : 8px;
      width      : image-width("ide/action-guide.png");
      height     : image-height("ide/action-guide.png");
      background : image-url("ide/action-guide.png") top right no-repeat;
    }
  }
}

#region-switch-list {
  position      : absolute;
  background    : #FFF;
  top           : 46px;
  z-index       : 35;
  border        : 1px solid #CCC;
  box-shadow    : 1px 1px 5px rgba(0, 0, 0, 0.1);
  border-radius : 2px;
  width         : 163px;

  > li {
    display   : block;
    padding   : 15px 10px;
    font-size : 14px;
    color     : #666;
    cursor    : pointer;

    &:hover { background-color: #eee; color: #148BE6; }
  }
}

@-webkit-keyframes progress-bar {
  from { background-position: 0 0; }
  to   { background-position: 40px 0; }
}

@-moz-keyframes progress-bar {
  from { background-position: 0 0; }
  to   { background-position: 40px 0; }
}

@keyframes progress-bar {
  from { background-position: 0 0; }
  to   { background-position: 40px 0; }
}


/*unmanaged-VPC-modal*/
#VisualizeReload {
  display: block;
  margin: 20px auto;
}

#VisualizeVpcDialog {
  background : #fff;
  position   : relative;
  min-height : 100%;

  .loading-spinner {
    position    : absolute;
    top         : 100px;
    left        : 50%;
    margin-left : -21px;
  }

  .unmanaged-vpc-empty {
    padding    : 160px 10px;
    text-align : center;
    color      : #aaa;
    display    : none;
  }

  .region-header {
    padding       : 10px 15px;
    border-bottom : 1px solid #ddd;
    font-size     : 12px;
  }

  .region-name {
    font-size: 20px;
    font-weight: 700;
    color: #333;
    margin-right: 5px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
  }

  .region-group {
    padding: 10px 0 10px 10px;
  }

  .visualize-vpc {
    float         : left;
    margin        : 0 10px 10px 0;
    color         : #999;
    width         : 240px;
    height        : 190px;
    font-size     : 12px;
    display       : block;
    background    : #f5f5f5;
    border        : 1px solid #ccc;
    border-radius : 2px;
    cursor        : pointer;

    &:hover {
      background: #fff;
      box-shadow: 1px 1px 5px rgba(0,0,0,.2);
    }

     h5 {
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
      padding: 10px;
      background: rgba(0, 0, 0, 0.05);
    }

    &.disabled {
      h5 { color: #999; }

      cursor: default;
      background: #e9e9e9;
      border: 1px solid #e0e0e0;

      &:hover {
        background: #e9e9e9;
        border: 1px solid #e0e0e0;
        box-shadow: none;
      }

      .vis-res-number { color : #999; }
    }
  }

  .visualize-res {
    display     : inline-block;
    width       : 69px;
    height      : 60px;
    margin      : 5px 0 5px 0;
    text-align  : center;
    border-left : 1px solid #ddd;
    float       : left;
    padding     : 0 5px;

    &:nth-child(3n+1) { border: none; }
  }

  .vis-res-num {
    font-size   : 24px;
    color       : #148BE6;
  }

  .vis-res-name {
    font-size    : 12px;
    font-variant : small-caps;
  }
}

/* demo And loading */
#dashboard-demo {
  display    : none;
  margin-top : 15px;

  .enter-credential {
    text-align       : center;
    border           : 1px solid #b4d5ed;
    background-color : #EDF9FF;
    border-radius    : 3px;
    padding          : 10px 0;
    margin-bottom    : 10px;
    line-height      : 1.5em;
    font-size        : 16px;
  }

  .show-credential {
    color: #148BE6;
    cursor: pointer;
    &:hover { text-decoration: underline; }
  }
}

#dashboard-loading {
  background : #fff;
  box-shadow : 1px 1px 5px rgba(0, 0, 0, 0.1);
  border     : 1px solid #ccc;
  position   : relative;
  height     : 600px;
  margin-top : 15px;

  .loading-spinner {
    position    : absolute;
    left        : 50%;
    top         : 120px;
    margin-left : -21px;
  }
}

#dashboard-data-wrap.demo {
  #global-view, #region-resource-wrap, #dashboard-demo { display : none !important; }
  #dashboard-demo { display : block; }
}
