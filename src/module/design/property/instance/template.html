<article id="instance-property-detail" data-uid="{{component.uid}}">

	<div class="option-group-head expand">{{ i18n "PROP_INSTANCE_DETAIL" }}</div>
	<div class="option-group">
		<section class="property-control-group" data-bind="true">
			<label class="left" for="property-instance-name" >{{ i18n "PROP_INSTANCE_HOSTNAME" }}</label>
			<span class="required-input right">{{ i18n "PROP_INSTANCE_REQUIRE" }}</span>

			<div class="property-instance-name-wrap {{#ifCond number 1}}single{{/ifCond}}">
				<div class="name-count-wrap">
					-[1-<span id="property-instance-name-count">{{number}}</span>]
				</div>
				<div class="fitfloat">
					<input class="input instance-name"  type="text" value="{{ name }}" id="property-instance-name" data-ignore="true" data-required-rollback="true"/>
				</div>
			</div>

		</section>
		<section class="property-control-group" data-bind="true">
			<label class="left" for="property-instance-count" >{{ i18n "PROP_INSTANCE_NUMBER" }}</label>
			<span class="required-input right">{{ i18n "PROP_INSTANCE_REQUIRE" }}</span>
			<input class="input tooltip" type="text" value="{{ number }}" id="property-instance-count" data-ignore="true" data-required="true" data-type="digits" {{#if number_disable}}disabled="disabled" data-tooltip="You cannot specify instance number, since the instance is connected to a route-table."{{else}}data-tooltip="If the quantity is more than 1, host name will be the string you provide plus number index."{{/if}}/>
		</section>
		<section class="property-control-group">
			<label>{{ i18n "PROP_INSTANCE_AMI" }}</label>
			<div id="property-ami" class="property-block-wrap clearfix secondary-panel" data-secondarypanel-data='{{{instance_ami_property}}}'>
				<img class="property-ami-icon left" src="./assets/images/ide/ami/{{instance_ami.icon}}" / >
				<div class="property-ami-label">{{instance_ami.name}}</div>
			</div>
		</section>
		<section class="property-control-group">
			<label class="left">{{ i18n "PROP_INSTANCE_TYPE" }}</label>
			<div class="selectbox selectbox-mega" id="instance-type-select">
				<div class="selection"></div>
				<ul class="dropdown">
					{{#each instance_type}}
					<li class="{{#if selected}}selected {{/if}}tooltip item" tabindex="-1" data-tooltip="{{main}}" data-id="{{name}}" {{#if hide}}style="display:none;"{{/if}}>
						<div class="main truncate">{{main}}</div>
						<div class="sub"><span>{{ecu}}</span> <span>{{core}}</span> <span>{{mem}}</span></div>
					</li>
					{{/each}}
				</ul>
			</div>
		</section>
		<section class="property-control-group" {{#unless can_set_ebs}}style="display:none;"{{/unless}}>
			<div class="checkbox">
				<input id="property-instance-ebs-optimized" type="checkbox" value="None" {{#if ebs_optimized}}checked="checked"{{/if}} name="ebs-optimized" />
				<label for="property-instance-ebs-optimized"></label>
			</div>
			<label for="property-instance-ebs-optimized" >EBS Optimized</label>
		</section>
		{{#unless classic_stack}}
		<section class="property-control-group">
			<label class="left">{{ i18n "PROP_INSTANCE_TENANCY" }}</label>
			<div class="selectbox" id="tenancy-select">
				<div class="selection">{{#if tenacy}}Default{{else}}Dedicated{{/if}}</div>
				<ul class="dropdown" tabindex="-1">
					{{#unless force_tenacy}}
					<li class="item {{#if tenacy}}selected{{/if}}" data-id="default">{{ i18n "PROP_INSTANCE_TENANCY_DEFAULT" }}</li>
					{{/unless}}
					<li class="item {{#unless tenacy}}selected{{/unless}}" data-id="dedicated">{{ i18n "PROP_INSTANCE_TENANCY_DELICATED" }}</li>
				</ul>
			</div>
		</section>
		{{/unless}}
		<section class="property-control-group">
			<label class="left">{{ i18n "PROP_INSTANCE_KEY_PAIR" }}</label>
			<div class="selectbox" id="keypair-select">
				<div class="selection"></div>
				<div style="height: 120px; width:260px;" class="dropdown scroll-wrap scrollbar-auto-hide  clearfix">
					<div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>
					<div class="scroll-content">
						<ul tabindex="-1">
							{{#each keypair}}
							<li class="item{{#if selected}} selected{{/if}}" data-id="{{name}}" data-using="{{using}}">{{name}}
							{{#if @index}}<span class="icon-remove"></span>{{/if}}
							</li>
							{{/each}}
						</ul>
					</div>
				</div>

				<div class="editor">
					<a href="#" class="editbtn">{{ i18n "PROP_INSTANCE_NEW_KP" }}</a>
					<div class="edit">
						<button class="btn btn-blue">OK</button>
						<span class="fitfloat" data-bind="true">
							<input class="input" type="text" placeholder="Key Pair Name" data-ignore="true"/>
						</span>
					</div>
				</div>
			</div>
		</section>
	</div>

	<div class="option-group-head">{{ i18n "PROP_INSTANCE_ADVANCED_DETAIL" }}</div>
	<div class="option-group">
		<section class="property-control-group">
			<div class="checkbox">
				{{#if monitoring}}
				<input id="property-instance-enable-cloudwatch" type="checkbox" checked="true" value="None" name="property-instance-enable-cloudwatch" />
				{{else}}
				<input id="property-instance-enable-cloudwatch" type="checkbox" value="None" name="property-instance-enable-cloudwatch" />
				{{/if}}
				<label for="property-instance-enable-cloudwatch"></label>
			</div>
			<label for="property-instance-enable-cloudwatch" >{{ i18n "PROP_INSTANCE_CW_ENABLED" }}</label>

			<p class="hide property-info" id="property-cloudwatch-warn">{{ i18n "PROP_INSTANCE_CW_WARN" }}<a target="_blank" href="http://aws.amazon.com/cloudwatch">Amazon Cloud Watch product page</a></p>
		</section>
		<section class="property-control-group">
			<label class="left" for="property-instance-user-data">{{ i18n "PROP_INSTANCE_USER_DATA" }}</label>
			<textarea id="property-instance-user-data">{{component.resource.UserData.Data}}</textarea>
		</section>
	</div>

	{{# if component.resource.VpcId}}
	<div class="option-group-head">{{ i18n "PROP_INSTANCE_ENI_DETAIL" }}</div>
	<div class="option-group">
		<section class="property-control-group">
			<label class="left" for="property-instance-ni-description">{{ i18n "PROP_INSTANCE_ENI_DESC" }}</label>
			<textarea id="property-instance-ni-description">{{eni_display.description}}</textarea>
		</section>
		<section class="property-control-group">
			<div class="checkbox">
				{{#if eni_display.sourceCheck}}
				<input id="property-instance-source-check" type="checkbox" checked="true" value="None" name="property-instance-source-check" />
				{{else}}
				<input id="property-instance-source-check" type="checkbox" value="None" name="property-instance-source-check" />
				{{/if}}
				<label for="property-instance-source-check"></label>
			</div>
			<label for="property-instance-source-check">{{ i18n "PROP_INSTANCE_ENI_SOURCE_DEST_CHECK" }}</label>
		</section>
		<section class="property-control-group">
			<div class="checkbox">
				{{#if eni_display.asso_public_ip}}
				<input id="property-instance-public-ip" type="checkbox" {{#if eni_display.multi_enis}}disabled="disabled"{{/if}} checked="true" value="None" name="property-instance-public-ip" />
				{{else}}
				<input id="property-instance-public-ip" type="checkbox" {{#if eni_display.multi_enis}}disabled="disabled"{{/if}} value="None" name="property-instance-public-ip" />
				{{/if}}
				<label for="property-instance-public-ip"></label>
			</div>
			<label for="property-instance-public-ip">{{ i18n "PROP_INSTANCE_ENI_AUTO_PUBLIC_IP" }}</label>
		</section>
		<section class="property-control-group">
			<div class="network-list-wrap">
				<div class="network-list-header clearfix">
					{{ i18n "PROP_INSTANCE_ENI_IP_ADDRESS" }}
					<button id="instance-ip-add" class="right btn btn-blue btn-small tooltip" data-tooltip="Add IP Address">{{ i18n "PROP_INSTANCE_ENI_ADD_IP" }}</button>
				</div>
				<ul class="network-list" id="property-network-list" data-bind="true">

				</ul>
			</div>
		</section>
	</div>
	{{/if}}

	<div class="option-group-head" id="sg-head">{{ i18n "PROP_INSTANCE_SG_DETAIL" }}<span class="property-head-num-wrap">(<span id="property-head-sg-num"></span>)</span></div>
  <div class="option-group sg-group">Loading...</div>
</article>
