<header class="sidebar-title">vpn:{{cgw.name}}</header>

<article class="fixedaccordion property-panel property-app">

  {{#with cgw}}
  <section class="accordion-group expanded">
    <div class="fixedaccordion-head">Customer Gateway</div>

    <div class="accordion-body">
      <dl class="dl-vertical">
        <dt>ID</dt>
        <dd>{{customerGatewayId}}</dd>
        <dt>State</dt>
        <dd class="capitalize"><i class="status status-{{stateColor}}"></i>{{state}}</dd>
        <dt>IP</dt>
        <dd>{{ipAddress}}</dd>
        <dt>Type</dt>
        <dd>{{type}}</dd>
        <dt>BGP ASN</dt>
        <dd>{{bgpAsn}}</dd>
      </dl>
    </div>
  </section>
  {{/with}}

  {{#with vpn}}
  <section class="accordion-group">
    <div class="fixedaccordion-head">
      <span>VPN Connection</span>
    </div>

    <div class="accordion-body scroll-wrap"  id="app-vpn-body" style="height: 450px;">
      <div class="scrollbar-veritical-wrap"><div class="scrollbar-veritical-thumb"></div></div>
      <div class="scroll-content">
        <dl class="dl-vertical">
          <dt>ID</dt>
          <dd>{{vpnConnectionId}}</dd>

          <dt>State</dt>
          <dd class="capitalize"><i class="status status-green"></i>{{state}}</dd>

          <dt>Type</dt>
          <dd>{{type}}</dd>

          <dt>Routing</dt>
          <dd>{{routing}}</dd>
        </dl>

        {{#if vgwTelemetry.item}}
          <div class="accordion-sub-head">
            <h5>VPN Tunnels</h5>
          </div>
          <table class="table">
            <thead>
              <tr>
              <th style="width:20px">Tunnel</th>
              <th style="width:100px">IP</th>
              </tr>
            </thead>
            <tbody>
              {{#each vgwTelemetry.item}}
                <tr>
                  <td><i class="status status-{{stateColor}} tooltip" data-tooltip="{{status}} since {{lastStatusChange}} because {{statusMessage}}"></i>{{acceptedRouteCount}}</td>
                  <td>{{outsideIpAddress}}</td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        {{/if}}

        {{#if routes.item}}
          <div class="accordion-sub-head">
            <h5>Status Routes</h5>
          </div>

          <table class="table">
            <thead>
              <tr>
              <th style="width:100px">Status</th>
              <th style="width:100px">Source</th>
              </tr>
            </thead>
            <tbody>
              {{#each routes.item}}
              <tr>
                <td><i class="status status-{{stateColor}} tooltip" data-tooltip="{{state}}"></i>{{destinationCidrBlock}}</td>
                <td>{{source}}</td>
              </tr>
              {{/each}}
            </tbody>
          </table>
        {{/if}}
      </div>
    </div>
  </section>
  {{/with}}

  {{#if vpn.available}}
    <section class="accordion-group">
      <div class="fixedaccordion-head">
        <span>Download Configuration</span>
      </div>

      <div class="accordion-body" id="app-vpn-connection-body">
        <div class="property-control-group clearfix">
          <label>Vendor</label>
          <div class="selectbox" id="tenancy-select">
            <div class="selection">Generic</div>
            <ul class="dropdown" tabindex="-1">
              <li class="item selected focused" data-id="default">Generic</li>
            </ul>
          </div>
        </div >

        <div class="property-control-group clearfix">
          <label>Platform</label>
          <div class="selectbox" id="tenancy-select">
            <div class="selection">Generic</div>
            <ul class="dropdown" tabindex="-1">
              <li class="item selected focused" data-id="default">Generic</li>
            </ul>
          </div>
        </div>

        <div class="property-control-group clearfix">
          <label>Softerware</label>
          <div class="selectbox" id="tenancy-select">
            <div class="selection">Vendor Agnostic</div>
            <ul class="dropdown" tabindex="-1">
              <li class="item selected focused" data-id="default">Vendor Agnostic</li>
            </ul>
          </div>
        </div>
        {{#with vpn.detail}}
          {{#each btns}}
          <a id="download-vpn-cgw-conf" class="btn btn-primary" {{#if download}}href="{{filecontent}}" download="{{filename}}"{{/if}}>{{btnname}}</a>
          {{/each}}
        {{/with}}
      </div>
    </section>
  {{/if}}
</article>
